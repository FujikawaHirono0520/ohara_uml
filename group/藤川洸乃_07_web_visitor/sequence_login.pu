@startuml Web訪問者システム-ログイン機能シーケンス図

skinparam boundaryBackgroundColor #D5E8D4
skinparam controlBackgroundColor  #F8CECC
skinparam entityBackgroundColor   #DAE8FC

actor 訪問者 as u
boundary ログイン画面 as log
boundary メニュー画面 as menu
control 認証
entity ユーザーデータ

u -> log : ログイン画面を開く()
activate log

u -> log : ユーザーID・パスワード入力()
log -> 認証 : 入力情報を送信()
activate 認証

認証 -> ユーザーデータ : ユーザーIDで検索()
activate ユーザーデータ

alt ユーザーID未入力 or パスワード未入力
    認証 -> log : エラーメッセージ表示（未入力）()
else ユーザーID未登録
    ユーザーデータ --> 認証 : ユーザーなし()
    認証 -> log : エラーメッセージ表示（未登録）()
else パスワード不一致
    ユーザーデータ --> 認証 : パスワード不一致()
    認証 -> log : エラーメッセージ表示（パスワード誤り）()
else 認証成功
    ユーザーデータ --> 認証 : ユーザー情報()
    認証 -> menu : ログイン成功通知()
    menu --> u : メニュー画面を表示()
end

deactivate ユーザーデータ
deactivate 認証
deactivate log

@enduml